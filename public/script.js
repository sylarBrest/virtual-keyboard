(()=>{"use strict";console.log("Virtual Keyboard task started");const e=new class{constructor(){this.elements={main:null,textarea:null,keyboardContainer:null,keys:[]},this.properties={value:"",isCapsLock:!1,lang:"en"}}init(){this.elements.main=document.createElement("main"),this.elements.main.classList.add("main"),this.elements.main.classList.add("main-container"),this.elements.textarea=document.createElement("textarea"),this.elements.textarea.classList.add("textarea"),this.elements.textarea.setAttribute("autofocus","autofocus"),this.elements.textarea.setAttribute("rows","10"),this.elements.keyboardContainer=document.createElement("div"),this.elements.keyboardContainer.classList.add("keyboard"),this.elements.keys=this.elements.keyboardContainer.querySelectorAll(".key"),this.elements.keys.forEach((e=>e.addEventListener("click",(()=>console.log("qqq")))))}createKeys(){const e=document.createDocumentFragment(),t=e=>`<span class="material-icons">${e}</span>`;return["backtick","1","2","3","4","5","6","7","8","9","0","-","=","backspace","tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","del","capslock","a","s","d","f","g","h","j","k","l",";","'","enter","leftshift","z","x","c","v","b","n","m",",",".","/","uparrow","rightshift","leftctrl","win","leftalt","spacebar","rightalt","leftarrow","downarrow","rightarrow","rightctrl"].forEach((a=>{const s=document.createElement("button");let r;switch(s.setAttribute("type","button"),s.classList.add("key"),s.textContent=a.toLowerCase(),s.innerHTML="",a){case"del":s.classList.add("text"),s.innerHTML="del";break;case"leftctrl":case"rightctrl":s.classList.add("text"),s.textContent="ctrl";break;case"leftalt":case"rightalt":s.classList.add("text"),s.textContent="alt";break;case"backtick":s.textContent="`";break;case"tab":s.innerHTML=t("keyboard_tab"),r="\t";break;case"win":s.innerHTML=t("window");break;case"uparrow":s.innerHTML=t("keyboard_arrow_up");break;case"leftarrow":s.innerHTML=t("keyboard_arrow_left");break;case"downarrow":s.innerHTML=t("keyboard_arrow_down");break;case"rightarrow":s.innerHTML=t("keyboard_arrow_right");break;case"backspace":s.classList.add("wide"),s.innerHTML=t("keyboard_backspace");break;case"capslock":s.classList.add("wide"),s.innerHTML=t("keyboard_capslock"),s.addEventListener("click",(()=>this.capsLockOn()));break;case"enter":s.classList.add("wide"),s.innerHTML=t("keyboard_return"),r="\n";break;case"leftshift":case"rightshift":s.classList.add("wide"),s.innerHTML=t("publish");break;case"spacebar":s.classList.add("ultrawide"),s.innerHTML=t("space_bar"),r=" ";break;default:s.classList.add("symbol"),s.innerHTML=a,r=s.innerHTML,this.properties.value+=this.properties.isCapsLock?a.toUpperCase():a.toLowerCase()}s.addEventListener("click",(()=>this.mouseClick(r))),e.append(s)})),e}mouseClick(e){const t=this.properties.isCapsLock?e.toUpperCase():e;this.elements.textarea.textContent+=t||"",this.elements.textarea.focus(),this.elements.textarea.selectionStart=this.elements.textarea.value.length}capsLockOn(){this.properties.isCapsLock=!this.properties.isCapsLock,this.elements.keyboardContainer.querySelectorAll(".symbol").forEach((e=>e.textContent=this.properties.isCapsLock?e.textContent.toUpperCase():e.textContent.toLowerCase()))}render(){document.body.prepend(this.elements.main),this.elements.main.appendChild(this.elements.textarea),this.elements.main.appendChild(this.elements.keyboardContainer),this.elements.keyboardContainer.appendChild(this.createKeys()),this.elements.keys=this.elements.keyboardContainer.querySelectorAll(".key")}toString(){return this.elements.keys}};e.init(),e.render()})();